var ot=(e,t,n)=>{if(!t.has(e))throw TypeError("Cannot "+n)};var g=(e,t,n)=>(ot(e,t,"read from private field"),n?n.call(e):t.get(e)),D=(e,t,n)=>{if(t.has(e))throw TypeError("Cannot add the same private member more than once");t instanceof WeakSet?t.add(e):t.set(e,n)},M=(e,t,n,r)=>(ot(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);var B=(e,t,n)=>(ot(e,t,"access private method"),n);import{S as An,s as st,n as Bn,i as Et,a as Rt,t as Ln,f as Vn,b as Hn,r as Pt,c as Lt,d as o,u as Fn,e as Vt,j as l,L as Un,g as H,$ as V,_ as C,h as xt,k as Ht,l as ze,m as Kn,o as bt,p as F,q as zn,v as O,w as de,x as Ft,y as Wn,z as qn,A as Qn,B as Gn,C as Yn,D as Ut,E as Xn,F as Zn,G as Jn,H as eo,O as to,M as no}from"./index-DZ_VJeKd.js";import{c as Kt,u as zt,h as We,a as oo,D as ro,b as so,B as ie,d as ao,e as co,f as It,g as Wt,i as qt,j as Qt,k as Gt,l as Yt,m as at,G as Xt,n as io,o as lo,$ as Zt,p as Jt,q as uo,r as fo,s as ho,R as po,t as mo,C as go,v as Pe,w as vo,T as xo,x as bo,y as $o,z as wo,A as So,E as yo,F as Co,H as Eo,P as Ro,I as Po,J as Io}from"./textarea-C9Jsnb56.js";var Q,N,Te,K,ue,$e,re,Ne,we,Se,fe,he,le,ye,pe,Ie,De,ct,je,it,ke,lt,Me,dt,Oe,ut,Ae,ft,Be,ht,Qe,en,Bt,_o=(Bt=class extends An{constructor(t,n){super();D(this,pe);D(this,De);D(this,je);D(this,ke);D(this,Me);D(this,Oe);D(this,Ae);D(this,Be);D(this,Qe);D(this,Q,void 0);D(this,N,void 0);D(this,Te,void 0);D(this,K,void 0);D(this,ue,void 0);D(this,$e,void 0);D(this,re,void 0);D(this,Ne,void 0);D(this,we,void 0);D(this,Se,void 0);D(this,fe,void 0);D(this,he,void 0);D(this,le,void 0);D(this,ye,new Set);this.options=n,M(this,Q,t),M(this,re,null),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(g(this,N).addObserver(this),_t(g(this,N),this.options)?B(this,pe,Ie).call(this):this.updateResult(),B(this,Me,dt).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return pt(g(this,N),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return pt(g(this,N),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,B(this,Oe,ut).call(this),B(this,Ae,ft).call(this),g(this,N).removeObserver(this)}setOptions(t,n){const r=this.options,s=g(this,N);if(this.options=g(this,Q).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean")throw new Error("Expected enabled to be a boolean");B(this,Be,ht).call(this),g(this,N).setOptions(this.options),r._defaulted&&!st(this.options,r)&&g(this,Q).getQueryCache().notify({type:"observerOptionsUpdated",query:g(this,N),observer:this});const c=this.hasListeners();c&&Tt(g(this,N),s,this.options,r)&&B(this,pe,Ie).call(this),this.updateResult(n),c&&(g(this,N)!==s||this.options.enabled!==r.enabled||this.options.staleTime!==r.staleTime)&&B(this,De,ct).call(this);const i=B(this,je,it).call(this);c&&(g(this,N)!==s||this.options.enabled!==r.enabled||i!==g(this,le))&&B(this,ke,lt).call(this,i)}getOptimisticResult(t){const n=g(this,Q).getQueryCache().build(g(this,Q),t),r=this.createResult(n,t);return No(this,r)&&(M(this,K,r),M(this,$e,this.options),M(this,ue,g(this,N).state)),r}getCurrentResult(){return g(this,K)}trackResult(t,n){const r={};return Object.keys(t).forEach(s=>{Object.defineProperty(r,s,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(s),n==null||n(s),t[s])})}),r}trackProp(t){g(this,ye).add(t)}getCurrentQuery(){return g(this,N)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=g(this,Q).defaultQueryOptions(t),r=g(this,Q).getQueryCache().build(g(this,Q),n);return r.isFetchingOptimistic=!0,r.fetch().then(()=>this.createResult(r,n))}fetch(t){return B(this,pe,Ie).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),g(this,K)))}createResult(t,n){var E;const r=g(this,N),s=this.options,c=g(this,K),i=g(this,ue),a=g(this,$e),f=t!==r?t.state:g(this,Te),{state:p}=t;let u={...p},x=!1,h;if(n._optimisticResults){const P=this.hasListeners(),z=!P&&_t(t,n),te=P&&Tt(t,r,n,s);(z||te)&&(u={...u,...Hn(p.data,t.options)}),n._optimisticResults==="isRestoring"&&(u.fetchStatus="idle")}let{error:v,errorUpdatedAt:$,status:w}=u;if(n.select&&u.data!==void 0)if(c&&u.data===(i==null?void 0:i.data)&&n.select===g(this,Ne))h=g(this,we);else try{M(this,Ne,n.select),h=n.select(u.data),h=Pt(c==null?void 0:c.data,h,n),M(this,we,h),M(this,re,null)}catch(P){M(this,re,P)}else h=u.data;if(n.placeholderData!==void 0&&h===void 0&&w==="pending"){let P;if(c!=null&&c.isPlaceholderData&&n.placeholderData===(a==null?void 0:a.placeholderData))P=c.data;else if(P=typeof n.placeholderData=="function"?n.placeholderData((E=g(this,Se))==null?void 0:E.state.data,g(this,Se)):n.placeholderData,n.select&&P!==void 0)try{P=n.select(P),M(this,re,null)}catch(z){M(this,re,z)}P!==void 0&&(w="success",h=Pt(c==null?void 0:c.data,P,n),x=!0)}g(this,re)&&(v=g(this,re),h=g(this,we),$=Date.now(),w="error");const S=u.fetchStatus==="fetching",m=w==="pending",b=w==="error",L=m&&S,A=h!==void 0;return{status:w,fetchStatus:u.fetchStatus,isPending:m,isSuccess:w==="success",isError:b,isInitialLoading:L,isLoading:L,data:h,dataUpdatedAt:u.dataUpdatedAt,error:v,errorUpdatedAt:$,failureCount:u.fetchFailureCount,failureReason:u.fetchFailureReason,errorUpdateCount:u.errorUpdateCount,isFetched:u.dataUpdateCount>0||u.errorUpdateCount>0,isFetchedAfterMount:u.dataUpdateCount>f.dataUpdateCount||u.errorUpdateCount>f.errorUpdateCount,isFetching:S,isRefetching:S&&!m,isLoadingError:b&&!A,isPaused:u.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:b&&A,isStale:$t(t,n),refetch:this.refetch}}updateResult(t){const n=g(this,K),r=this.createResult(g(this,N),this.options);if(M(this,ue,g(this,N).state),M(this,$e,this.options),g(this,ue).data!==void 0&&M(this,Se,g(this,N)),st(r,n))return;M(this,K,r);const s={},c=()=>{if(!n)return!0;const{notifyOnChangeProps:i}=this.options,a=typeof i=="function"?i():i;if(a==="all"||!a&&!g(this,ye).size)return!0;const d=new Set(a??g(this,ye));return this.options.throwOnError&&d.add("error"),Object.keys(g(this,K)).some(f=>{const p=f;return g(this,K)[p]!==n[p]&&d.has(p)})};(t==null?void 0:t.listeners)!==!1&&c()&&(s.listeners=!0),B(this,Qe,en).call(this,{...s,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&B(this,Me,dt).call(this)}},Q=new WeakMap,N=new WeakMap,Te=new WeakMap,K=new WeakMap,ue=new WeakMap,$e=new WeakMap,re=new WeakMap,Ne=new WeakMap,we=new WeakMap,Se=new WeakMap,fe=new WeakMap,he=new WeakMap,le=new WeakMap,ye=new WeakMap,pe=new WeakSet,Ie=function(t){B(this,Be,ht).call(this);let n=g(this,N).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(Bn)),n},De=new WeakSet,ct=function(){if(B(this,Oe,ut).call(this),Et||g(this,K).isStale||!Rt(this.options.staleTime))return;const n=Ln(g(this,K).dataUpdatedAt,this.options.staleTime)+1;M(this,fe,setTimeout(()=>{g(this,K).isStale||this.updateResult()},n))},je=new WeakSet,it=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(g(this,N)):this.options.refetchInterval)??!1},ke=new WeakSet,lt=function(t){B(this,Ae,ft).call(this),M(this,le,t),!(Et||this.options.enabled===!1||!Rt(g(this,le))||g(this,le)===0)&&M(this,he,setInterval(()=>{(this.options.refetchIntervalInBackground||Vn.isFocused())&&B(this,pe,Ie).call(this)},g(this,le)))},Me=new WeakSet,dt=function(){B(this,De,ct).call(this),B(this,ke,lt).call(this,B(this,je,it).call(this))},Oe=new WeakSet,ut=function(){g(this,fe)&&(clearTimeout(g(this,fe)),M(this,fe,void 0))},Ae=new WeakSet,ft=function(){g(this,he)&&(clearInterval(g(this,he)),M(this,he,void 0))},Be=new WeakSet,ht=function(){const t=g(this,Q).getQueryCache().build(g(this,Q),this.options);if(t===g(this,N))return;const n=g(this,N);M(this,N,t),M(this,Te,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},Qe=new WeakSet,en=function(t){Lt.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(g(this,K))}),g(this,Q).getQueryCache().notify({query:g(this,N),type:"observerResultsUpdated"})})},Bt);function To(e,t){return t.enabled!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function _t(e,t){return To(e,t)||e.state.data!==void 0&&pt(e,t,t.refetchOnMount)}function pt(e,t,n){if(t.enabled!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&$t(e,t)}return!1}function Tt(e,t,n,r){return(e!==t||r.enabled===!1)&&(!n.suspense||e.state.status!=="error")&&$t(e,n)}function $t(e,t){return t.enabled!==!1&&e.isStaleByTime(t.staleTime)}function No(e,t){return!st(e.getCurrentResult(),t)}var tn=o.createContext(!1),Do=()=>o.useContext(tn);tn.Provider;function jo(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var ko=o.createContext(jo()),Mo=()=>o.useContext(ko);function Oo(e,t){return typeof e=="function"?e(...t):!!e}var Ao=(e,t)=>{(e.suspense||e.throwOnError)&&(t.isReset()||(e.retryOnMount=!1))},Bo=e=>{o.useEffect(()=>{e.clearReset()},[e])},Lo=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&Oo(n,[e.error,r]),Vo=e=>{e.suspense&&typeof e.staleTime!="number"&&(e.staleTime=1e3)},Ho=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,Fo=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function Uo(e,t,n){const r=Fn(),s=Do(),c=Mo(),i=r.defaultQueryOptions(e);i._optimisticResults=s?"isRestoring":"optimistic",Vo(i),Ao(i,c),Bo(c);const[a]=o.useState(()=>new t(r,i)),d=a.getOptimisticResult(i);if(o.useSyncExternalStore(o.useCallback(f=>{const p=s?()=>{}:a.subscribe(Lt.batchCalls(f));return a.updateResult(),p},[a,s]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),o.useEffect(()=>{a.setOptions(i,{listeners:!1})},[i,a]),Ho(i,d))throw Fo(i,a,c);if(Lo({result:d,errorResetBoundary:c,throwOnError:i.throwOnError,query:r.getQueryCache().get(i.queryHash)}))throw d.error;return i.notifyOnChangeProps?d:a.trackResult(d)}function Ko(e,t){return Uo(e,_o)}function zo({title:e}){return o.useEffect(()=>{document.title=e},[e]),null}/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nn=Kt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.378.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wo=Kt("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);function on({id:e,label:t,isActive:n=!1,isCollapsed:r=!1}){const s=zt(We({id:e})),c=Vt(),i=oo(Wt);return l.jsxs(l.Fragment,{children:[!!t&&l.jsx("div",{className:"mb-2 w-full text-xs",children:l.jsx("h3",{children:t})}),l.jsxs("div",{className:`${n&&"bg-secondary"} group relative mb-2 w-full rounded-md p-2 text-sm hover:bg-secondary`,children:[l.jsx(Un,{to:`/ai/${e}`,className:"flex items-center active:text-black",children:l.jsxs("div",{className:"relative grow overflow-hidden whitespace-nowrap",children:[`${s.emoji??"ðŸ¤”"} `,s.name??s.prompt,l.jsx("div",{className:H("absolute bottom-0 right-0 top-0 w-8 bg-gradient-to-l from-zinc-300 from-0% to-transparent group-hover:right-5 group-hover:from-secondary dark:from-zinc-900",{"from-secondary":n,"dark:from-secondary":n})})]})}),l.jsx("div",{className:"absolute bottom-0 right-0 top-0 flex items-center bg-secondary pr-2 opacity-0 group-hover:opacity-100",children:l.jsxs(ro,{modal:!1,children:[l.jsx(so,{asChild:!0,children:l.jsx(ie,{className:"h-5 w-5 text-sm hover:ring-transparent focus-visible:ring-0",variant:"ghost",size:"icon",children:l.jsx(ao,{className:"inline-block h-4 w-4"})})}),l.jsxs(co,{children:[l.jsx(It,{children:"Copy"}),l.jsx(It,{onClick:()=>{i(a=>a.filter(d=>d!==e)),We.remove({id:e}),localStorage.removeItem(`${e}.html`),localStorage.removeItem(`${e}.md`),c("/ai/new")},children:"Delete"})]})]})}),l.jsx(ie,{onClick:()=>c(`/ai/${e}`),className:H("absolute -right-[58px] top-0 z-50 ml-auto inline-flex h-8 w-8 p-2 hover:scale-110 hover:bg-inherit",r&&"ml-10",n&&"bg-zinc-900"),variant:"ghost",size:"icon",children:s.emoji??"ðŸ¤”"})]})]})}on.defaultProps={label:void 0};/*! js-cookie v3.0.5 | MIT */function He(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)e[r]=n[r]}return e}var qo={read:function(e){return e[0]==='"'&&(e=e.slice(1,-1)),e.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(e){return encodeURIComponent(e).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function mt(e,t){function n(s,c,i){if(!(typeof document>"u")){i=He({},t,i),typeof i.expires=="number"&&(i.expires=new Date(Date.now()+i.expires*864e5)),i.expires&&(i.expires=i.expires.toUTCString()),s=encodeURIComponent(s).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var a="";for(var d in i)i[d]&&(a+="; "+d,i[d]!==!0&&(a+="="+i[d].split(";")[0]));return document.cookie=s+"="+e.write(c,s)+a}}function r(s){if(!(typeof document>"u"||arguments.length&&!s)){for(var c=document.cookie?document.cookie.split("; "):[],i={},a=0;a<c.length;a++){var d=c[a].split("="),f=d.slice(1).join("=");try{var p=decodeURIComponent(d[0]);if(i[p]=e.read(f,p),s===p)break}catch{}}return s?i[s]:i}}return Object.create({set:n,get:r,remove:function(s,c){n(s,"",He({},c,{expires:-1}))},withAttributes:function(s){return mt(this.converter,He({},this.attributes,s))},withConverter:function(s){return mt(He({},this.converter,s),this.attributes)}},{attributes:{value:Object.freeze(t)},converter:{value:Object.freeze(e)}})}var Nt=mt(qo,{path:"/"});function Qo(){const[e,t]=o.useState(),[n,r]=o.useState(!1);return o.useEffect(()=>{const c=async()=>{const a=await io();r(a===void 0)},i=Nt.get("error");i&&(t(i),Nt.remove("error")),c().catch(a=>console.error(a))},[]),l.jsx(qt,{open:n,onOpenChange:c=>{console.log(c)},children:l.jsxs(Qt,{noClose:!0,className:"sm:max-w-[425px]",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Login"}),e?l.jsx(at,{className:"mb-2 text-red-500 dark:text-red-400",children:e}):l.jsx(at,{children:"To enforce usage quotas an account is required."})]}),l.jsx("div",{className:"items-center",children:l.jsx(ie,{asChild:!0,children:l.jsxs("a",{href:"/v1/login",children:[l.jsx(Xt,{className:"mr-2"})," Login with GitHub"]})})})]})})}async function Go(){try{return(await(await fetch("/v1/models")).json()).models}catch(e){return console.error(e),{openai:[],groq:[],ollama:[]}}}const Yo=o.forwardRef((e,t)=>o.createElement(V.label,C({},e,{ref:t,onMouseDown:n=>{var r;(r=e.onMouseDown)===null||r===void 0||r.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault()}}))),rn=Yo,Xo=lo("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),_e=o.forwardRef(({className:e,...t},n)=>l.jsx(rn,{ref:n,className:H(Xo(),e),...t}));_e.displayName=rn.displayName;function qe(e,[t,n]){return Math.min(n,Math.max(t,e))}function wt(e){const t=o.useRef({value:e,previous:e});return o.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}const Zo=[" ","Enter","ArrowUp","ArrowDown"],Jo=[" ","Enter"],Ge="Select",[Ye,Xe,er]=Zt(Ge),[Ee,ys]=xt(Ge,[er,Ht]),St=Ht(),[tr,me]=Ee(Ge),[nr,or]=Ee(Ge),rr=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:c,value:i,defaultValue:a,onValueChange:d,dir:f,name:p,autoComplete:u,disabled:x,required:h}=e,v=St(t),[$,w]=o.useState(null),[S,m]=o.useState(null),[b,L]=o.useState(!1),A=Jt(f),[se=!1,E]=ze({prop:r,defaultProp:s,onChange:c}),[P,z]=ze({prop:i,defaultProp:a,onChange:d}),te=o.useRef(null),ae=$?!!$.closest("form"):!0,[Y,W]=o.useState(new Set),I=Array.from(Y).map(R=>R.props.value).join(";");return o.createElement(Kn,v,o.createElement(tr,{required:h,scope:t,trigger:$,onTriggerChange:w,valueNode:S,onValueNodeChange:m,valueNodeHasChildren:b,onValueNodeHasChildrenChange:L,contentId:bt(),value:P,onValueChange:z,open:se,onOpenChange:E,dir:A,triggerPointerDownPosRef:te,disabled:x},o.createElement(Ye.Provider,{scope:t},o.createElement(nr,{scope:e.__scopeSelect,onNativeOptionAdd:o.useCallback(R=>{W(U=>new Set(U).add(R))},[]),onNativeOptionRemove:o.useCallback(R=>{W(U=>{const X=new Set(U);return X.delete(R),X})},[])},n)),ae?o.createElement(dn,{key:I,"aria-hidden":!0,required:h,tabIndex:-1,name:p,autoComplete:u,value:P,onChange:R=>z(R.target.value),disabled:x},P===void 0?o.createElement("option",{value:""}):null,Array.from(Y)):null))},sr="SelectTrigger",ar=o.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,c=St(n),i=me(sr,n),a=i.disabled||r,d=F(t,i.onTriggerChange),f=Xe(n),[p,u,x]=un(v=>{const $=f().filter(m=>!m.disabled),w=$.find(m=>m.value===i.value),S=fn($,v,w);S!==void 0&&i.onValueChange(S.value)}),h=()=>{a||(i.onOpenChange(!0),x())};return o.createElement(zn,C({asChild:!0},c),o.createElement(V.button,C({type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":ln(i.value)?"":void 0},s,{ref:d,onClick:O(s.onClick,v=>{v.currentTarget.focus()}),onPointerDown:O(s.onPointerDown,v=>{const $=v.target;$.hasPointerCapture(v.pointerId)&&$.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&(h(),i.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)},v.preventDefault())}),onKeyDown:O(s.onKeyDown,v=>{const $=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&u(v.key),!($&&v.key===" ")&&Zo.includes(v.key)&&(h(),v.preventDefault())})})))}),cr="SelectValue",ir=o.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:c,placeholder:i="",...a}=e,d=me(cr,n),{onValueNodeHasChildrenChange:f}=d,p=c!==void 0,u=F(t,d.onValueNodeChange);return de(()=>{f(p)},[f,p]),o.createElement(V.span,C({},a,{ref:u,style:{pointerEvents:"none"}}),ln(d.value)?o.createElement(o.Fragment,null,i):c)}),lr=o.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return o.createElement(V.span,C({"aria-hidden":!0},s,{ref:t}),r||"â–¼")}),dr=e=>o.createElement(uo,C({asChild:!0},e)),Ce="SelectContent",ur=o.forwardRef((e,t)=>{const n=me(Ce,e.__scopeSelect),[r,s]=o.useState();if(de(()=>{s(new DocumentFragment)},[]),!n.open){const c=r;return c?Ft.createPortal(o.createElement(sn,{scope:e.__scopeSelect},o.createElement(Ye.Slot,{scope:e.__scopeSelect},o.createElement("div",null,e.children))),c):null}return o.createElement(fr,C({},e,{ref:t}))}),ce=10,[sn,ge]=Ee(Ce),fr=o.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:c,onPointerDownOutside:i,side:a,sideOffset:d,align:f,alignOffset:p,arrowPadding:u,collisionBoundary:x,collisionPadding:h,sticky:v,hideWhenDetached:$,avoidCollisions:w,...S}=e,m=me(Ce,n),[b,L]=o.useState(null),[A,se]=o.useState(null),E=F(t,y=>L(y)),[P,z]=o.useState(null),[te,ae]=o.useState(null),Y=Xe(n),[W,I]=o.useState(!1),R=o.useRef(!1);o.useEffect(()=>{if(b)return fo(b)},[b]),ho();const U=o.useCallback(y=>{const[j,...G]=Y().map(T=>T.ref.current),[k]=G.slice(-1),_=document.activeElement;for(const T of y)if(T===_||(T==null||T.scrollIntoView({block:"nearest"}),T===j&&A&&(A.scrollTop=0),T===k&&A&&(A.scrollTop=A.scrollHeight),T==null||T.focus(),document.activeElement!==_))return},[Y,A]),X=o.useCallback(()=>U([P,b]),[U,P,b]);o.useEffect(()=>{W&&X()},[W,X]);const{onOpenChange:ne,triggerPointerDownPosRef:q}=m;o.useEffect(()=>{if(b){let y={x:0,y:0};const j=k=>{var _,T,J,ee;y={x:Math.abs(Math.round(k.pageX)-((_=(T=q.current)===null||T===void 0?void 0:T.x)!==null&&_!==void 0?_:0)),y:Math.abs(Math.round(k.pageY)-((J=(ee=q.current)===null||ee===void 0?void 0:ee.y)!==null&&J!==void 0?J:0))}},G=k=>{y.x<=10&&y.y<=10?k.preventDefault():b.contains(k.target)||ne(!1),document.removeEventListener("pointermove",j),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",j),document.addEventListener("pointerup",G,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",j),document.removeEventListener("pointerup",G,{capture:!0})}}},[b,ne,q]),o.useEffect(()=>{const y=()=>ne(!1);return window.addEventListener("blur",y),window.addEventListener("resize",y),()=>{window.removeEventListener("blur",y),window.removeEventListener("resize",y)}},[ne]);const[oe,Z]=un(y=>{const j=Y().filter(_=>!_.disabled),G=j.find(_=>_.ref.current===document.activeElement),k=fn(j,y,G);k&&setTimeout(()=>k.ref.current.focus())}),ve=o.useCallback((y,j,G)=>{const k=!R.current&&!G;(m.value!==void 0&&m.value===j||k)&&(z(y),k&&(R.current=!0))},[m.value]),Je=o.useCallback(()=>b==null?void 0:b.focus(),[b]),xe=o.useCallback((y,j,G)=>{const k=!R.current&&!G;(m.value!==void 0&&m.value===j||k)&&ae(y)},[m.value]),Ve=r==="popper"?Dt:hr,Re=Ve===Dt?{side:a,sideOffset:d,align:f,alignOffset:p,arrowPadding:u,collisionBoundary:x,collisionPadding:h,sticky:v,hideWhenDetached:$,avoidCollisions:w}:{};return o.createElement(sn,{scope:n,content:b,viewport:A,onViewportChange:se,itemRefCallback:ve,selectedItem:P,onItemLeave:Je,itemTextRefCallback:xe,focusSelectedItem:X,selectedItemText:te,position:r,isPositioned:W,searchRef:oe},o.createElement(po,{as:Wn,allowPinchZoom:!0},o.createElement(mo,{asChild:!0,trapped:m.open,onMountAutoFocus:y=>{y.preventDefault()},onUnmountAutoFocus:O(s,y=>{var j;(j=m.trigger)===null||j===void 0||j.focus({preventScroll:!0}),y.preventDefault()})},o.createElement(qn,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:c,onPointerDownOutside:i,onFocusOutside:y=>y.preventDefault(),onDismiss:()=>m.onOpenChange(!1)},o.createElement(Ve,C({role:"listbox",id:m.contentId,"data-state":m.open?"open":"closed",dir:m.dir,onContextMenu:y=>y.preventDefault()},S,Re,{onPlaced:()=>I(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...S.style},onKeyDown:O(S.onKeyDown,y=>{const j=y.ctrlKey||y.altKey||y.metaKey;if(y.key==="Tab"&&y.preventDefault(),!j&&y.key.length===1&&Z(y.key),["ArrowUp","ArrowDown","Home","End"].includes(y.key)){let k=Y().filter(_=>!_.disabled).map(_=>_.ref.current);if(["ArrowUp","End"].includes(y.key)&&(k=k.slice().reverse()),["ArrowUp","ArrowDown"].includes(y.key)){const _=y.target,T=k.indexOf(_);k=k.slice(T+1)}setTimeout(()=>U(k)),y.preventDefault()}})}))))))}),hr=o.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,c=me(Ce,n),i=ge(Ce,n),[a,d]=o.useState(null),[f,p]=o.useState(null),u=F(t,E=>p(E)),x=Xe(n),h=o.useRef(!1),v=o.useRef(!0),{viewport:$,selectedItem:w,selectedItemText:S,focusSelectedItem:m}=i,b=o.useCallback(()=>{if(c.trigger&&c.valueNode&&a&&f&&$&&w&&S){const E=c.trigger.getBoundingClientRect(),P=f.getBoundingClientRect(),z=c.valueNode.getBoundingClientRect(),te=S.getBoundingClientRect();if(c.dir!=="rtl"){const _=te.left-P.left,T=z.left-_,J=E.left-T,ee=E.width+J,et=Math.max(ee,P.width),tt=window.innerWidth-ce,nt=qe(T,[ce,tt-et]);a.style.minWidth=ee+"px",a.style.left=nt+"px"}else{const _=P.right-te.right,T=window.innerWidth-z.right-_,J=window.innerWidth-E.right-T,ee=E.width+J,et=Math.max(ee,P.width),tt=window.innerWidth-ce,nt=qe(T,[ce,tt-et]);a.style.minWidth=ee+"px",a.style.right=nt+"px"}const ae=x(),Y=window.innerHeight-ce*2,W=$.scrollHeight,I=window.getComputedStyle(f),R=parseInt(I.borderTopWidth,10),U=parseInt(I.paddingTop,10),X=parseInt(I.borderBottomWidth,10),ne=parseInt(I.paddingBottom,10),q=R+U+W+ne+X,oe=Math.min(w.offsetHeight*5,q),Z=window.getComputedStyle($),ve=parseInt(Z.paddingTop,10),Je=parseInt(Z.paddingBottom,10),xe=E.top+E.height/2-ce,Ve=Y-xe,Re=w.offsetHeight/2,y=w.offsetTop+Re,j=R+U+y,G=q-j;if(j<=xe){const _=w===ae[ae.length-1].ref.current;a.style.bottom="0px";const T=f.clientHeight-$.offsetTop-$.offsetHeight,J=Math.max(Ve,Re+(_?Je:0)+T+X),ee=j+J;a.style.height=ee+"px"}else{const _=w===ae[0].ref.current;a.style.top="0px";const J=Math.max(xe,R+$.offsetTop+(_?ve:0)+Re)+G;a.style.height=J+"px",$.scrollTop=j-xe+$.offsetTop}a.style.margin=`${ce}px 0`,a.style.minHeight=oe+"px",a.style.maxHeight=Y+"px",r==null||r(),requestAnimationFrame(()=>h.current=!0)}},[x,c.trigger,c.valueNode,a,f,$,w,S,c.dir,r]);de(()=>b(),[b]);const[L,A]=o.useState();de(()=>{f&&A(window.getComputedStyle(f).zIndex)},[f]);const se=o.useCallback(E=>{E&&v.current===!0&&(b(),m==null||m(),v.current=!1)},[b,m]);return o.createElement(pr,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:h,onScrollButtonChange:se},o.createElement("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:L}},o.createElement(V.div,C({},s,{ref:u,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}}))))}),Dt=o.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=ce,...c}=e,i=St(n);return o.createElement(Yn,C({},i,c,{ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...c.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}}))}),[pr,yt]=Ee(Ce,{}),jt="SelectViewport",mr=o.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=ge(jt,n),c=yt(jt,n),i=F(t,s.onViewportChange),a=o.useRef(0);return o.createElement(o.Fragment,null,o.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"}}),o.createElement(Ye.Slot,{scope:n},o.createElement(V.div,C({"data-radix-select-viewport":"",role:"presentation"},r,{ref:i,style:{position:"relative",flex:1,overflow:"auto",...r.style},onScroll:O(r.onScroll,d=>{const f=d.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:u}=c;if(u!=null&&u.current&&p){const x=Math.abs(a.current-f.scrollTop);if(x>0){const h=window.innerHeight-ce*2,v=parseFloat(p.style.minHeight),$=parseFloat(p.style.height),w=Math.max(v,$);if(w<h){const S=w+x,m=Math.min(h,S),b=S-m;p.style.height=m+"px",p.style.bottom==="0px"&&(f.scrollTop=b>0?b:0,p.style.justifyContent="flex-end")}}}a.current=f.scrollTop})}))))}),gr="SelectGroup",[vr,xr]=Ee(gr),br=o.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=bt();return o.createElement(vr,{scope:n,id:s},o.createElement(V.div,C({role:"group","aria-labelledby":s},r,{ref:t})))}),$r="SelectLabel",wr=o.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=xr($r,n);return o.createElement(V.div,C({id:s.id},r,{ref:t}))}),gt="SelectItem",[Sr,an]=Ee(gt),yr=o.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:c,...i}=e,a=me(gt,n),d=ge(gt,n),f=a.value===r,[p,u]=o.useState(c??""),[x,h]=o.useState(!1),v=F(t,S=>{var m;return(m=d.itemRefCallback)===null||m===void 0?void 0:m.call(d,S,r,s)}),$=bt(),w=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.createElement(Sr,{scope:n,value:r,disabled:s,textId:$,isSelected:f,onItemTextChange:o.useCallback(S=>{u(m=>{var b;return m||((b=S==null?void 0:S.textContent)!==null&&b!==void 0?b:"").trim()})},[])},o.createElement(Ye.ItemSlot,{scope:n,value:r,disabled:s,textValue:p},o.createElement(V.div,C({role:"option","aria-labelledby":$,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1},i,{ref:v,onFocus:O(i.onFocus,()=>h(!0)),onBlur:O(i.onBlur,()=>h(!1)),onPointerUp:O(i.onPointerUp,w),onPointerMove:O(i.onPointerMove,S=>{if(s){var m;(m=d.onItemLeave)===null||m===void 0||m.call(d)}else S.currentTarget.focus({preventScroll:!0})}),onPointerLeave:O(i.onPointerLeave,S=>{if(S.currentTarget===document.activeElement){var m;(m=d.onItemLeave)===null||m===void 0||m.call(d)}}),onKeyDown:O(i.onKeyDown,S=>{var m;((m=d.searchRef)===null||m===void 0?void 0:m.current)!==""&&S.key===" "||(Jo.includes(S.key)&&w(),S.key===" "&&S.preventDefault())})}))))}),Fe="SelectItemText",Cr=o.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...c}=e,i=me(Fe,n),a=ge(Fe,n),d=an(Fe,n),f=or(Fe,n),[p,u]=o.useState(null),x=F(t,S=>u(S),d.onItemTextChange,S=>{var m;return(m=a.itemTextRefCallback)===null||m===void 0?void 0:m.call(a,S,d.value,d.disabled)}),h=p==null?void 0:p.textContent,v=o.useMemo(()=>o.createElement("option",{key:d.value,value:d.value,disabled:d.disabled},h),[d.disabled,d.value,h]),{onNativeOptionAdd:$,onNativeOptionRemove:w}=f;return de(()=>($(v),()=>w(v)),[$,w,v]),o.createElement(o.Fragment,null,o.createElement(V.span,C({id:d.textId},c,{ref:x})),d.isSelected&&i.valueNode&&!i.valueNodeHasChildren?Ft.createPortal(c.children,i.valueNode):null)}),Er="SelectItemIndicator",Rr=o.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return an(Er,n).isSelected?o.createElement(V.span,C({"aria-hidden":!0},r,{ref:t})):null}),kt="SelectScrollUpButton",Pr=o.forwardRef((e,t)=>{const n=ge(kt,e.__scopeSelect),r=yt(kt,e.__scopeSelect),[s,c]=o.useState(!1),i=F(t,r.onScrollButtonChange);return de(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=a.scrollTop>0;c(f)};const a=n.viewport;return d(),a.addEventListener("scroll",d),()=>a.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?o.createElement(cn,C({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=n;a&&d&&(a.scrollTop=a.scrollTop-d.offsetHeight)}})):null}),Mt="SelectScrollDownButton",Ir=o.forwardRef((e,t)=>{const n=ge(Mt,e.__scopeSelect),r=yt(Mt,e.__scopeSelect),[s,c]=o.useState(!1),i=F(t,r.onScrollButtonChange);return de(()=>{if(n.viewport&&n.isPositioned){let d=function(){const f=a.scrollHeight-a.clientHeight,p=Math.ceil(a.scrollTop)<f;c(p)};const a=n.viewport;return d(),a.addEventListener("scroll",d),()=>a.removeEventListener("scroll",d)}},[n.viewport,n.isPositioned]),s?o.createElement(cn,C({},e,{ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:d}=n;a&&d&&(a.scrollTop=a.scrollTop+d.offsetHeight)}})):null}),cn=o.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,c=ge("SelectScrollButton",n),i=o.useRef(null),a=Xe(n),d=o.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return o.useEffect(()=>()=>d(),[d]),de(()=>{var f;const p=a().find(u=>u.ref.current===document.activeElement);p==null||(f=p.ref.current)===null||f===void 0||f.scrollIntoView({block:"nearest"})},[a]),o.createElement(V.div,C({"aria-hidden":!0},s,{ref:t,style:{flexShrink:0,...s.style},onPointerDown:O(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:O(s.onPointerMove,()=>{var f;(f=c.onItemLeave)===null||f===void 0||f.call(c),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:O(s.onPointerLeave,()=>{d()})}))}),_r=o.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.createElement(V.div,C({"aria-hidden":!0},r,{ref:t}))});function ln(e){return e===""||e===void 0}const dn=o.forwardRef((e,t)=>{const{value:n,...r}=e,s=o.useRef(null),c=F(t,s),i=wt(n);return o.useEffect(()=>{const a=s.current,d=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(d,"value").set;if(i!==n&&p){const u=new Event("change",{bubbles:!0});p.call(a,n),a.dispatchEvent(u)}},[i,n]),o.createElement(Qn,{asChild:!0},o.createElement("select",C({},r,{ref:c,defaultValue:n})))});dn.displayName="BubbleSelect";function un(e){const t=Gn(e),n=o.useRef(""),r=o.useRef(0),s=o.useCallback(i=>{const a=n.current+i;t(a),function d(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>d(""),1e3))}(a)},[t]),c=o.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return o.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,c]}function fn(e,t,n){const s=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,c=n?e.indexOf(n):-1;let i=Tr(e,Math.max(c,0));s.length===1&&(i=i.filter(f=>f!==n));const d=i.find(f=>f.textValue.toLowerCase().startsWith(s.toLowerCase()));return d!==n?d:void 0}function Tr(e,t){return e.map((n,r)=>e[(t+r)%e.length])}const Nr=rr,hn=ar,Dr=ir,jr=lr,kr=dr,pn=ur,Mr=mr,Or=br,mn=wr,gn=yr,Ar=Cr,Br=Rr,vn=Pr,xn=Ir,bn=_r,Lr=Nr,rt=Or,Vr=Dr,$n=o.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(hn,{ref:r,className:H("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,l.jsx(jr,{asChild:!0,children:l.jsx(nn,{className:"h-4 w-4 opacity-50"})})]}));$n.displayName=hn.displayName;const wn=o.forwardRef(({className:e,...t},n)=>l.jsx(vn,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(Wo,{className:"h-4 w-4"})}));wn.displayName=vn.displayName;const Sn=o.forwardRef(({className:e,...t},n)=>l.jsx(xn,{ref:n,className:H("flex cursor-default items-center justify-center py-1",e),...t,children:l.jsx(nn,{className:"h-4 w-4"})}));Sn.displayName=xn.displayName;const Ue=o.forwardRef(({className:e,children:t,position:n="popper",...r},s)=>l.jsx(kr,{children:l.jsxs(pn,{ref:s,className:H("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[l.jsx(wn,{}),l.jsx(Mr,{className:H("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),l.jsx(Sn,{})]})}));Ue.displayName=pn.displayName;const Ke=o.forwardRef(({className:e,...t},n)=>l.jsx(mn,{ref:n,className:H("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));Ke.displayName=mn.displayName;const be=o.forwardRef(({className:e,children:t,...n},r)=>l.jsxs(gn,{ref:r,className:H("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(Br,{children:l.jsx(go,{className:"h-4 w-4"})})}),l.jsx(Ar,{children:t})]}));be.displayName=gn.displayName;const Hr=o.forwardRef(({className:e,...t},n)=>l.jsx(bn,{ref:n,className:H("-mx-1 my-1 h-px bg-muted",e),...t}));Hr.displayName=bn.displayName;const yn=["PageUp","PageDown"],Cn=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],En={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Le="Slider",[vt,Fr,Ur]=Zt(Le),[Rn,Cs]=xt(Le,[Ur]),[Kr,Ze]=Rn(Le),zr=o.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:c=1,orientation:i="horizontal",disabled:a=!1,minStepsBetweenThumbs:d=0,defaultValue:f=[r],value:p,onValueChange:u=()=>{},onValueCommit:x=()=>{},inverted:h=!1,...v}=e,[$,w]=o.useState(null),S=F(t,I=>w(I)),m=o.useRef(new Set),b=o.useRef(0),L=i==="horizontal",A=$?!!$.closest("form"):!0,se=L?Wr:qr,[E=[],P]=ze({prop:p,defaultProp:f,onChange:I=>{var R;(R=[...m.current][b.current])===null||R===void 0||R.focus(),u(I)}}),z=o.useRef(E);function te(I){const R=ns(E,I);W(I,R)}function ae(I){W(I,b.current)}function Y(){const I=z.current[b.current];E[b.current]!==I&&x(E)}function W(I,R,{commit:U}={commit:!1}){const X=as(c),ne=cs(Math.round((I-r)/c)*c+r,X),q=qe(ne,[r,s]);P((oe=[])=>{const Z=es(oe,q,R);if(ss(Z,d*c)){b.current=Z.indexOf(q);const ve=String(Z)!==String(oe);return ve&&U&&x(Z),ve?Z:oe}else return oe})}return o.createElement(Kr,{scope:e.__scopeSlider,disabled:a,min:r,max:s,valueIndexToChangeRef:b,thumbs:m.current,values:E,orientation:i},o.createElement(vt.Provider,{scope:e.__scopeSlider},o.createElement(vt.Slot,{scope:e.__scopeSlider},o.createElement(se,C({"aria-disabled":a,"data-disabled":a?"":void 0},v,{ref:S,onPointerDown:O(v.onPointerDown,()=>{a||(z.current=E)}),min:r,max:s,inverted:h,onSlideStart:a?void 0:te,onSlideMove:a?void 0:ae,onSlideEnd:a?void 0:Y,onHomeKeyDown:()=>!a&&W(r,0,{commit:!0}),onEndKeyDown:()=>!a&&W(s,E.length-1,{commit:!0}),onStepKeyDown:({event:I,direction:R})=>{if(!a){const ne=yn.includes(I.key)||I.shiftKey&&Cn.includes(I.key)?10:1,q=b.current,oe=E[q],Z=c*ne*R;W(oe+Z,q,{commit:!0})}}})))),A&&E.map((I,R)=>o.createElement(Jr,{key:R,name:n?n+(E.length>1?"[]":""):void 0,value:I})))}),[Pn,In]=Rn(Le,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Wr=o.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:c,onSlideStart:i,onSlideMove:a,onSlideEnd:d,onStepKeyDown:f,...p}=e,[u,x]=o.useState(null),h=F(t,b=>x(b)),v=o.useRef(),$=Jt(s),w=$==="ltr",S=w&&!c||!w&&c;function m(b){const L=v.current||u.getBoundingClientRect(),A=[0,L.width],E=Ct(A,S?[n,r]:[r,n]);return v.current=L,E(b-L.left)}return o.createElement(Pn,{scope:e.__scopeSlider,startEdge:S?"left":"right",endEdge:S?"right":"left",direction:S?1:-1,size:"width"},o.createElement(_n,C({dir:$,"data-orientation":"horizontal"},p,{ref:h,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:b=>{const L=m(b.clientX);i==null||i(L)},onSlideMove:b=>{const L=m(b.clientX);a==null||a(L)},onSlideEnd:()=>{v.current=void 0,d==null||d()},onStepKeyDown:b=>{const A=En[S?"from-left":"from-right"].includes(b.key);f==null||f({event:b,direction:A?-1:1})}})))}),qr=o.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:c,onSlideMove:i,onSlideEnd:a,onStepKeyDown:d,...f}=e,p=o.useRef(null),u=F(t,p),x=o.useRef(),h=!s;function v($){const w=x.current||p.current.getBoundingClientRect(),S=[0,w.height],b=Ct(S,h?[r,n]:[n,r]);return x.current=w,b($-w.top)}return o.createElement(Pn,{scope:e.__scopeSlider,startEdge:h?"bottom":"top",endEdge:h?"top":"bottom",size:"height",direction:h?1:-1},o.createElement(_n,C({"data-orientation":"vertical"},f,{ref:u,style:{...f.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:$=>{const w=v($.clientY);c==null||c(w)},onSlideMove:$=>{const w=v($.clientY);i==null||i(w)},onSlideEnd:()=>{x.current=void 0,a==null||a()},onStepKeyDown:$=>{const S=En[h?"from-bottom":"from-top"].includes($.key);d==null||d({event:$,direction:S?-1:1})}})))}),_n=o.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:i,onEndKeyDown:a,onStepKeyDown:d,...f}=e,p=Ze(Le,n);return o.createElement(V.span,C({},f,{ref:t,onKeyDown:O(e.onKeyDown,u=>{u.key==="Home"?(i(u),u.preventDefault()):u.key==="End"?(a(u),u.preventDefault()):yn.concat(Cn).includes(u.key)&&(d(u),u.preventDefault())}),onPointerDown:O(e.onPointerDown,u=>{const x=u.target;x.setPointerCapture(u.pointerId),u.preventDefault(),p.thumbs.has(x)?x.focus():r(u)}),onPointerMove:O(e.onPointerMove,u=>{u.target.hasPointerCapture(u.pointerId)&&s(u)}),onPointerUp:O(e.onPointerUp,u=>{const x=u.target;x.hasPointerCapture(u.pointerId)&&(x.releasePointerCapture(u.pointerId),c(u))})}))}),Qr="SliderTrack",Gr=o.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ze(Qr,n);return o.createElement(V.span,C({"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation},r,{ref:t}))}),Ot="SliderRange",Yr=o.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=Ze(Ot,n),c=In(Ot,n),i=o.useRef(null),a=F(t,i),d=s.values.length,f=s.values.map(x=>Tn(x,s.min,s.max)),p=d>1?Math.min(...f):0,u=100-Math.max(...f);return o.createElement(V.span,C({"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0},r,{ref:a,style:{...e.style,[c.startEdge]:p+"%",[c.endEdge]:u+"%"}}))}),At="SliderThumb",Xr=o.forwardRef((e,t)=>{const n=Fr(e.__scopeSlider),[r,s]=o.useState(null),c=F(t,a=>s(a)),i=o.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return o.createElement(Zr,C({},e,{ref:c,index:i}))}),Zr=o.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,...s}=e,c=Ze(At,n),i=In(At,n),[a,d]=o.useState(null),f=F(t,w=>d(w)),p=Ut(a),u=c.values[r],x=u===void 0?0:Tn(u,c.min,c.max),h=ts(r,c.values.length),v=p==null?void 0:p[i.size],$=v?os(v,x,i.direction):0;return o.useEffect(()=>{if(a)return c.thumbs.add(a),()=>{c.thumbs.delete(a)}},[a,c.thumbs]),o.createElement("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[i.startEdge]:`calc(${x}% + ${$}px)`}},o.createElement(vt.ItemSlot,{scope:e.__scopeSlider},o.createElement(V.span,C({role:"slider","aria-label":e["aria-label"]||h,"aria-valuemin":c.min,"aria-valuenow":u,"aria-valuemax":c.max,"aria-orientation":c.orientation,"data-orientation":c.orientation,"data-disabled":c.disabled?"":void 0,tabIndex:c.disabled?void 0:0},s,{ref:f,style:u===void 0?{display:"none"}:e.style,onFocus:O(e.onFocus,()=>{c.valueIndexToChangeRef.current=r})}))))}),Jr=e=>{const{value:t,...n}=e,r=o.useRef(null),s=wt(t);return o.useEffect(()=>{const c=r.current,i=window.HTMLInputElement.prototype,d=Object.getOwnPropertyDescriptor(i,"value").set;if(s!==t&&d){const f=new Event("input",{bubbles:!0});d.call(c,t),c.dispatchEvent(f)}},[s,t]),o.createElement("input",C({style:{display:"none"}},n,{ref:r,defaultValue:t}))};function es(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,c)=>s-c)}function Tn(e,t,n){const c=100/(n-t)*(e-t);return qe(c,[0,100])}function ts(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function ns(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function os(e,t,n){const r=e/2,c=Ct([0,50],[0,r]);return(r-c(t)*n)*n}function rs(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ss(e,t){if(t>0){const n=rs(e);return Math.min(...n)>=t}return!0}function Ct(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function as(e){return(String(e).split(".")[1]||"").length}function cs(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}const Nn=zr,is=Gr,ls=Yr,ds=Xr,Dn=o.forwardRef(({className:e,...t},n)=>l.jsxs(Nn,{ref:n,className:H("relative flex w-full touch-none select-none items-center",e),...t,children:[l.jsx(is,{className:"relative h-2 w-full grow overflow-hidden rounded-full bg-secondary",children:l.jsx(ls,{className:"absolute h-full bg-primary"})}),l.jsx(ds,{className:"block h-5 w-5 rounded-full border-2 border-primary bg-background ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50"})]}));Dn.displayName=Nn.displayName;const jn="Switch",[us,Es]=xt(jn),[fs,hs]=us(jn),ps=o.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:c,required:i,disabled:a,value:d="on",onCheckedChange:f,...p}=e,[u,x]=o.useState(null),h=F(t,m=>x(m)),v=o.useRef(!1),$=u?!!u.closest("form"):!0,[w=!1,S]=ze({prop:s,defaultProp:c,onChange:f});return o.createElement(fs,{scope:n,checked:w,disabled:a},o.createElement(V.button,C({type:"button",role:"switch","aria-checked":w,"aria-required":i,"data-state":kn(w),"data-disabled":a?"":void 0,disabled:a,value:d},p,{ref:h,onClick:O(e.onClick,m=>{S(b=>!b),$&&(v.current=m.isPropagationStopped(),v.current||m.stopPropagation())})})),$&&o.createElement(vs,{control:u,bubbles:!v.current,name:r,value:d,checked:w,required:i,disabled:a,style:{transform:"translateX(-100%)"}}))}),ms="SwitchThumb",gs=o.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=hs(ms,n);return o.createElement(V.span,C({"data-state":kn(s.checked),"data-disabled":s.disabled?"":void 0},r,{ref:t}))}),vs=e=>{const{control:t,checked:n,bubbles:r=!0,...s}=e,c=o.useRef(null),i=wt(n),a=Ut(t);return o.useEffect(()=>{const d=c.current,f=window.HTMLInputElement.prototype,u=Object.getOwnPropertyDescriptor(f,"checked").set;if(i!==n&&u){const x=new Event("click",{bubbles:r});u.call(d,n),d.dispatchEvent(x)}},[i,n,r]),o.createElement("input",C({type:"checkbox","aria-hidden":!0,defaultChecked:n},s,{tabIndex:-1,ref:c,style:{...e.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}}))};function kn(e){return e?"checked":"unchecked"}const Mn=ps,xs=gs,On=o.forwardRef(({className:e,...t},n)=>l.jsx(Mn,{className:H("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:l.jsx(xs,{className:H("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));On.displayName=Mn.displayName;function bs({trigger:e}){const{isPending:t,isError:n,error:r,data:s}=Ko({queryKey:["models"],queryFn:Go}),[c,i]=Pe($o),[a,d]=Pe(wo),[f,p]=Pe(So),[u,x]=Pe(yo);return o.useEffect(()=>{r&&console.error("Error fetching models",r)},[r]),o.useEffect(()=>{s&&s.groq.length>0&&s.openai.length===0&&d(`groq/${s.groq[2].id}`)},[s,d]),l.jsxs(qt,{children:[l.jsx(vo,{asChild:!0,children:e}),l.jsxs(Qt,{className:"max-w-3xl",children:[l.jsxs(Gt,{children:[l.jsx(Yt,{children:"Settings"}),l.jsx(at,{children:"Choose a different model, adjust settings, or logout"})]}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid grid-cols-8 items-center gap-4",children:[l.jsx(_e,{className:"col-span-2 text-right",htmlFor:"model",children:"Model"}),l.jsxs(Lr,{value:a,onValueChange:h=>{d(h)},children:[l.jsx($n,{className:"min-w-[200px]",children:l.jsx(Vr,{placeholder:"Switch models"})}),t?l.jsx(Ue,{children:"Loading..."}):void 0,n?l.jsx(Ue,{children:"Error, see console..."}):void 0,s?l.jsxs(Ue,{children:[s.openai.length>0&&l.jsxs(rt,{children:[l.jsx(Ke,{children:"OpenAI"}),l.jsx(be,{value:"gpt-3.5-turbo",children:"GPT-3.5 Turbo"}),l.jsx(be,{value:"gpt-4o",children:"GPT-4o"}),l.jsx(be,{value:"gpt-4-turbo",children:"GPT-4 Turbo"})]}),s.groq.length>0&&l.jsxs(rt,{children:[l.jsx(Ke,{children:"Groq"}),s.groq.map(h=>l.jsx(be,{value:`groq/${h.id}`,children:h.id},h.id))]}),s.ollama.length>0&&l.jsxs(rt,{children:[l.jsx(Ke,{children:"Ollama"}),s.ollama.map(h=>l.jsx(be,{value:`ollama/${h.name}`,children:h.name},h.digest))]})]}):void 0]})]}),l.jsxs("div",{className:"grid grid-cols-8 items-center gap-4",children:[l.jsx(_e,{className:"col-span-2 text-right",htmlFor:"prompt",children:"System Prompt"}),l.jsx(xo,{className:"col-span-6 whitespace-nowrap",id:"prompt",onChange:h=>p(h.target.value),value:f})]}),l.jsxs("div",{className:"grid grid-cols-8 items-center gap-4",children:[l.jsx(_e,{className:"col-span-2 text-right",htmlFor:"temperature",children:"Temperature"}),l.jsx(Dn,{min:0,max:1,step:.05,onValueChange:h=>x(h[0]),value:[u],className:"col-span-2",id:"temperature"}),l.jsx("div",{className:"col-span-1",children:u.toFixed(2)})]}),l.jsxs("div",{className:"grid grid-cols-8 items-center gap-4",children:[l.jsx(_e,{className:"col-span-2 text-right",htmlFor:"beast",children:"Agent Mode"}),l.jsx(On,{className:"-zoom-1 col-span-1",name:"beast",disabled:!0,checked:c,onCheckedChange:h=>i(h)}),l.jsx("div",{className:"-ml-15 col-span-5 text-xs italic",children:"Coming soon! Agent mode will make multiple calls to an LLM with vision capabilities to iterate on a design."})]}),l.jsx("div",{className:"mt-3 grid grid-cols-4 items-center gap-4",children:l.jsxs("div",{className:"col-start-4 flex justify-end",children:[l.jsx(ie,{variant:"secondary",onClick:()=>{fetch("/v1/session",{method:"DELETE"}).then(()=>document.location.reload()).catch(h=>console.error(h))},children:"Logout"}),l.jsx(bo,{asChild:!0,children:l.jsx(ie,{type:"button",className:"ml-2",children:"Update"})})]})})]})]})]})}function Rs(){const e=Xn(`(min-width: ${no}px)`),[t,n]=o.useState(!e),r=Vt(),[s]=Pe(Wt),c=Zn(),i=zt(We({id:c.id??"new"})),a=Co();o.useEffect(()=>{c.id===void 0&&(console.log("redirecting"),r("/ai/new"))},[c.id,r]),o.useEffect(()=>{n(!e)},[e,n]);const d=new Date,f=new Date(d.getTime()-24*60*60*1e3),p=new Date(d.getTime()-7*24*60*60*1e3);let u="";return l.jsxs("div",{className:"mobile-safe-container flex overflow-hidden bg-secondary",children:[l.jsx(zo,{title:i.name?`${i.emoji} ${i.name}`:"Create a new UI"}),l.jsx(Qo,{}),l.jsxs("div",{className:H(`${t?"w-0":"w-[300px]"} flex h-screen flex-none flex-col border-r border-input bg-zinc-300 transition-all duration-300 ease-in-out dark:bg-zinc-900`,!e&&!t&&"absolute z-50"),children:[l.jsxs("div",{className:"flex items-center pb-2 pl-4",children:[l.jsx("h2",{className:`${t?"opacity-0":"opacity-100"} text-sm text-secondary-foreground transition-all duration-300`,children:"History"}),l.jsx(ie,{asChild:!0,size:"icon",variant:"ghost",className:"ml-auto inline-flex p-2 hover:bg-inherit",children:l.jsx("a",{"aria-label":"GitHub",rel:"noreferrer",target:"_blank",href:"https://github.com/wandb/openui",children:l.jsx(Xt,{className:"h-5 w-5"})})}),l.jsx(bs,{trigger:l.jsx(ie,{className:H("inline-flex p-2 hover:scale-110 hover:bg-inherit",!t&&"-ml-2	"),variant:"ghost",size:"icon",children:l.jsx(Eo,{className:"h-5 w-5"})})}),l.jsx(ie,{onClick:()=>{r("/ai/new"),e||n(!0)},className:H("inline-flex p-2 hover:scale-110 hover:bg-inherit",!t&&"-ml-2"),variant:"ghost",size:"icon",children:l.jsx(Ro,{className:"inline-block h-5 w-5"})})]}),l.jsx("div",{className:"flex h-full max-h-full flex-col items-start justify-start overflow-y-auto overflow-x-hidden p-3",children:s.map(x=>{let h;const v=a.get(We({id:x}));return v.createdAt&&v.createdAt>=f&&(u===""||u==="Today")?(h=u==="Today"?void 0:"Today",u="Today"):v.createdAt&&v.createdAt>=p&&u==="Today"?(h="Previous 7 days",u=h):u==="Previous 7 days"&&v.createdAt&&v.createdAt<=p?(h="Previous 30 days",u=h):h=void 0,l.jsx(on,{id:x,label:h,isActive:c.id===x,isCollapsed:t},x)})}),l.jsxs("span",{className:"absolute bottom-0 p-2 pl-4 text-xs italic text-zinc-700 dark:text-zinc-300",children:["Built with"," ",l.jsx("img",{"aria-hidden":!0,src:"https://wandb.github.io/weave/img/logo.svg",className:"inline-block w-4",alt:"Weave"})," ",l.jsx("a",{href:"https://wandb.me/weave?ref=openui",target:"_blank",rel:"noreferrer",className:"underline",children:"Weave"})]}),l.jsx(ie,{onClick:()=>{n(!t)},className:H("ml-auto inline-flex p-2 hover:scale-110 hover:bg-secondary",t&&"absolute -left-2 top-[90px] z-50 bg-secondary",!e&&"mb-20"),variant:"ghost",size:"icon",children:t?l.jsx(Po,{className:"inline-block h-4 w-4"}):l.jsx(Io,{className:"inline-block h-4 w-4"})})]}),l.jsx("div",{className:"mobile-safe-container relative flex-1 overflow-hidden",children:l.jsx(Jn,{renderError:x=>l.jsx(eo,{error:x}),children:l.jsx(to,{})})})]})}export{Rs as default};
