---
name: Gluttonous Snake Game
emoji: 🐍
---

<div class="relative w-full h-screen flex justify-center items-center bg-background text-foreground">
  <div id="game-board" class="w-[600px] h-[600px] flex flex-col items-center justify-center bg-card rounded-lg shadow-lg">
    <div id="score-board" class="w-full text-center p-4 text-card-foreground">
      Score: <span id="score">0</span>
    </div>
    <canvas id="game-canvas" width="580" height="580" class="bg-background"></canvas>
    <div class="w-full flex justify-between p-4">
      <button id="start-button" class="bg-primary text-primary-foreground px-6 py-2 rounded-md hover:bg-primary/80">Start</button>
      <button id="pause-button" class="bg-secondary text-secondary-foreground px-6 py-2 rounded-md hover:bg-secondary/80">Pause</button>
    </div>
  </div>
</div>

<script>
  const canvas = document.getElementById('game-canvas');
  const ctx = canvas.getContext('2d');
  const scoreBoard = document.getElementById('score');
  const startButton = document.getElementById('start-button');
  const pauseButton = document.getElementById('pause-button');

  let score = 0;
  let snake;
  let food;
  let direction;
  let gameInterval;

  const initGame = () => {
    direction = 'right';
    createSnake();
    createFood();
    if (gameInterval) clearInterval(gameInterval);
    gameInterval = setInterval(paint, 80);
  };

  const createSnake = () => {
    const length = 5;
    snake = [];
    for (let i = length - 1; i >= 0; i--) {
      snake.push({ x: i, y: 0 });
    }
  };

  const createFood = () => {
    food = {
      x: Math.round(Math.random() * (canvas.width - 10) / 10),
      y: Math.round(Math.random() * (canvas.height - 10) / 10),
    };
  };

  const paint = () => {
    // Paint the canvas
    ctx.fillStyle = 'var(--background)';
    ctx.fillRect(0, 0, canvas.width, canvas.height);
    ctx.strokeStyle = 'var(--border)';
    ctx.strokeRect(0, 0, canvas.width, canvas.height);

    const dx = direction === 'right' ? 1 : direction === 'left' ? -1 : 0;
    const dy = direction === 'up' ? -1 : direction === 'down' ? 1 : 0;

    const head = { x: snake[0].x + dx, y: snake[0].y + dy };

    // Check collision
    if (
      head.x === -1 ||
      head.x === canvas.width / 10 ||
      head.y === -1 ||
      head.y === canvas.height / 10 ||
      snake.some(segment => segment.x === head.x && segment.y === head.y)
    ) {
      // Game over
      clearInterval(gameInterval);
      alert('Game over');
      return;
    }

    // Check if snake eats food
    if (head.x === food.x && head.y === food.y) {
      score += 10;
      scoreBoard.textContent = score;
      createFood();
    } else {
      snake.pop();
    }

    snake.unshift(head);

    // Paint the snake
    snake.forEach(segment => {
      ctx.fillStyle = 'var(--primary)';
      ctx.fillRect(segment.x * 10, segment.y * 10, 10, 10);
      ctx.strokeStyle = 'var(--primary-foreground)';
      ctx.strokeRect(segment.x * 10, segment.y * 10, 10, 10);
    });

    // Paint the food
    ctx.fillStyle = 'var(--accent)';
    ctx.fillRect(food.x * 10, food.y * 10, 10, 10);
    ctx.strokeStyle = 'var(--accent-foreground)';
    ctx.strokeRect(food.x * 10, food.y * 10, 10, 10);
  };

  // Control the snake
  window.addEventListener('keydown', e => {
    if (e.key === 'ArrowUp' && direction !== 'down') direction = 'up';
    else if (e.key === 'ArrowDown' && direction !== 'up') direction = 'down';
    else if (e.key === 'ArrowLeft' && direction !== 'right') direction = 'left';
    else if (e.key === 'ArrowRight' && direction !== 'left') direction = 'right';
  });

  startButton.addEventListener('click', initGame);
  pauseButton.addEventListener('click', () => clearInterval(gameInterval));

</script>
